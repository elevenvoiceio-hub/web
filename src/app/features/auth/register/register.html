<div class="flex min-h-screen h-screen bg-background pt-6">
  <div
    class="flex flex-col items-center gap-10 h-full mx-auto w-[90%] animate-fade md:w-6/12 2xl:w-[30%] pt-2 pb-4"
  >
    <div class="flex flex-nowrap items-center gap-2">
      <div class="flex items-center gap-2">
        <ng-icon name="lucideAudioLines" size="2rem" />
        <h2 class="font-semibold text-lg">{{ applicationName }}</h2>
      </div>
    </div>
    <div class="w-full px-2 lg:px-12">
      <h2 class="text-2xl font-bold text-center">Create your account</h2>
      <form [formGroup]="signUpForm" (ngSubmit)="onSubmit()" class="mt-3 space-y-4">
        <div hlmInputGroup>
          <input hlmInputGroupInput placeholder="Enter full name" formControlName="username" />
          <div hlmInputGroupAddon>
            <ng-icon name="lucideUser" />
          </div>
        </div>
        <div hlmInputGroup>
          <input
            hlmInputGroupInput
            type="email"
            placeholder="Enter your email"
            formControlName="email"
          />
          <div hlmInputGroupAddon>
            <ng-icon name="lucideMail" />
          </div>
        </div>
        <div hlmInputGroup>
          <input
            hlmInputGroupInput
            placeholder="Enter Password"
            aria-invalid="false"
            [type]="showPassword() ? 'text' : 'password'"
            name="password"
            formControlName="password"
          />
          <div hlmInputGroupAddon>
            <ng-icon name="lucideLock" />
          </div>
          <div hlmInputGroupAddon align="inline-end">
            <button
              class="rounded-full"
              hlmInputGroupButton
              variant="ghost"
              type="button"
              size="icon-xs"
              (click)="showPassword.set(!showPassword())"
            >
              @if(showPassword()){
              <ng-icon name="lucideEyeOff" />
              } @else{
              <ng-icon name="lucideEye" />
              }
            </button>
          </div>
        </div>
        <div hlmInputGroup>
          <input
            hlmInputGroupInput
            placeholder="Re-enter Password"
            aria-invalid="false"
            [type]="showRePassword() ? 'text' : 'password'"
            name="password"
            formControlName="passwordRepeat"
          />
          <div hlmInputGroupAddon>
            <ng-icon name="lucideLock" />
          </div>
          <div hlmInputGroupAddon align="inline-end">
            <button
              class="rounded-full"
              hlmInputGroupButton
              variant="ghost"
              type="button"
              size="icon-xs"
              (click)="showRePassword.set(!showRePassword())"
            >
              @if(showRePassword()){
              <ng-icon name="lucideEyeOff" />
              } @else{
              <ng-icon name="lucideEye" />
              }
            </button>
          </div>
        </div>
        <div class="flex flex-col gap-1">
          <small class="text-muted-foreground">Password must be at least 6 characters</small>
          @if(signUpForm.get('password')?.touched && signUpForm.get('passwordRepeat')?.touched &&
          signUpForm.get('password')?.value !== signUpForm.get('passwordRepeat')?.value){
          <small class="text-red-500">Password does not match</small>
          }
        </div>
        <div>
          @if(loading()){
          <button hlmBtn class="w-full" disabled>
            <hlm-spinner />
            Please Wait...
          </button>
          }@else{
          <button
            hlmBtn
            type="submit"
            class="w-full"
            [disabled]="
              !signUpForm.valid ||
              signUpForm.get('password')?.value !== signUpForm.get('passwordRepeat')?.value
            "
          >
            Sign Up</button
          >}
        </div>
        <div>
          <a class="block w-full px-4 py-3 text-center" routerLink="/login" data-discover="true"
            >Already have an account? <span class="underline">Sign in</span></a
          >
        </div>
      </form>
    </div>
    <span class="mt-auto block text-center text-sm"
      >By continuing, you accept the
      <a
        class="underline"
        [href]="`${welcomeWebsiteURL}/terms-and-conditions`"
        target="_blank"
        rel="noopener noreferrer"
        >terms of use</a
      >
      .</span
    >
  </div>
</div>
